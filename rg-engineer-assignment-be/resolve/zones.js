const { createFeatureCollection } = require("../util/feature");

const createZoneFeature = (
  name,
  risk_lvl,
  id,
  dots
) => ({
  type: 'Feature',
  geometry: {
    type: 'Polygon',
    coordinates: dots
  },
  properties: {
    name,
    risk_lvl,
    id
  }
})

module.exports = (req, res, next) => {
  const featureCollection = createFeatureCollection([
    createZoneFeature(
      'Square',
      0,
      'SQUARE_ANTARCTICA',
      // As per GeoJSON spec
      [
        [
          -65.98685275300124,
          -75.6872351250801
        ],
        [
          156.56092133781658,
          -75.6872351250801
        ],
        [
          156.56092133781658,
          -28.039117204919734
        ],
        [
          -65.98685275300124,
          -28.039117204919734
        ],
        [
          -65.98685275300124,
          -75.6872351250801
        ]
      ]
    ),
    createZoneFeature(
      'Circle',
      1,
      'CIRCLE_PACIFIC',
      // As per GeoJSON spec
      [
        [
          -154.0421869747043,
          11.856073467914188
        ],
        [
          -156.09809226233438,
          11.756359365332392
        ],
        [
          -158.13242540858403,
          11.45839141279271
        ],
        [
          -160.12414788095725,
          10.9656532985099
        ],
        [
          -162.05324189047036,
          10.283823867041624
        ],
        [
          -163.90111156545416,
          9.420599348012598
        ],
        [
          -165.65087103532147,
          8.385468627862407
        ],
        [
          -167.28750732431928,
          7.189461112884712
        ],
        [
          -168.79792071758635,
          5.844886985118291
        ],
        [
          -170.17085737447695,
          4.365087629648634
        ],
        [
          -171.3967570840232,
          2.764210423806589
        ],
        [
          -172.46754295888584,
          1.0570177359237038
        ],
        [
          -173.37638019304478,
          -0.7412644034173153
        ],
        [
          -174.11742888508255,
          -2.6150564228966986
        ],
        [
          -174.68561256356904,
          -4.548495809887762
        ],
        [
          -175.07642047019348,
          -6.525472348602708
        ],
        [
          -175.2857585614396,
          -8.52963400597117
        ],
        [
          -175.3098619210247,
          -10.544370894917881
        ],
        [
          -175.14527983293593,
          -12.55278595896494
        ],
        [
          -174.78894384430362,
          -14.537662222391136
        ],
        [
          -174.23832816757923,
          -16.481437758231714
        ],
        [
          -173.49170989408537,
          -18.366200952843382
        ],
        [
          -172.54853265590094,
          -20.173720047069
        ],
        [
          -171.4098704008558,
          -21.885521968804387
        ],
        [
          -170.07897677504198,
          -23.483035570442784
        ],
        [
          -168.56188973340278,
          -24.947812762925924
        ],
        [
          -166.86804112022668,
          -26.261836799246332
        ],
        [
          -165.01079971349256,
          -27.40791933376294
        ],
        [
          -163.0078586590018,
          -28.370176616205985
        ],
        [
          -160.88137145846665,
          -29.134561010647246
        ],
        [
          -158.65775222331817,
          -29.689409062447954
        ],
        [
          -156.36709050275027,
          -30.02595499908405
        ],
        [
          -154.0421869747043,
          -30.13875289051636
        ],
        [
          -151.71728344665834,
          -30.025954999084064
        ],
        [
          -149.4266217260904,
          -29.689409062447954
        ],
        [
          -147.20300249094194,
          -29.134561010647246
        ],
        [
          -145.07651529040677,
          -28.370176616205985
        ],
        [
          -143.07357423591603,
          -27.40791933376294
        ],
        [
          -141.2163328291819,
          -26.261836799246332
        ],
        [
          -139.52248421600578,
          -24.94781276292593
        ],
        [
          -138.0053971743666,
          -23.483035570442787
        ],
        [
          -136.6745035485528,
          -21.88552196880438
        ],
        [
          -135.53584129350764,
          -20.173720047069015
        ],
        [
          -134.5926640553232,
          -18.366200952843393
        ],
        [
          -133.8460457818294,
          -16.481437758231706
        ],
        [
          -133.29543010510497,
          -14.537662222391136
        ],
        [
          -132.9390941164727,
          -12.552785958964954
        ],
        [
          -132.7745120283839,
          -10.544370894917884
        ],
        [
          -132.798615387969,
          -8.529634005971173
        ],
        [
          -133.00795347921508,
          -6.525472348602717
        ],
        [
          -133.39876138583958,
          -4.548495809887763
        ],
        [
          -133.96694506432604,
          -2.6150564228967044
        ],
        [
          -134.7079937563638,
          -0.741264403417312
        ],
        [
          -135.61683099052271,
          1.0570177359237038
        ],
        [
          -136.68761686538537,
          2.764210423806581
        ],
        [
          -137.9135165749316,
          4.365087629648634
        ],
        [
          -139.2864532318222,
          5.844886985118284
        ],
        [
          -140.7968666250893,
          7.189461112884703
        ],
        [
          -142.43350291408711,
          8.385468627862407
        ],
        [
          -144.18326238395443,
          9.420599348012592
        ],
        [
          -146.03113205893823,
          10.28382386704163
        ],
        [
          -147.9602260684513,
          10.965653298509892
        ],
        [
          -149.95194854082456,
          11.458391412792706
        ],
        [
          -151.9862816870742,
          11.756359365332392
        ],
        [
          -154.0421869747043,
          11.856073467914188
        ]
      ]
    ),
    createZoneFeature(
      'Star',
      2,
      'STAR_ATLANTIC',
      // As per GeoJSON spec
      [
        [
          -19.43355797937562,
          -2.334871697282807
        ],
        [
          -19.155226101097554,
          -14.22832351038744
        ],
        [
          -32.5199189350038,
          -21.407164479542146
        ],
        [
          -18.413711229625022,
          -24.123973031098217
        ],
        [
          -17.742896472359234,
          -39.960900035520034
        ],
        [
          -8.768185817438251,
          -24.76094891338859
        ],
        [
          6.001121793803122,
          -25.44141305346548
        ],
        [
          -5.5929160512979195,
          -15.978697452836613
        ],
        [
          -1.0388891471041006,
          -5.4107987121359145
        ],
        [
          -11.686651942079806,
          -10.767352892050639
        ],
        [
          -19.43355797937562,
          -2.334871697282807
        ]
      ]
    )
  ]);

  res.json(featureCollection);
}